(import (chibi))
(define (divides? a b)
  (= (remainder a b) 0)
)
(define (square x )
 (* x x)
)
(define (next input)
  (if (= input 2) 3 (+ input 2)) 
)
(define (smallest-divisor n )
  (define (find-devisor test-divisor)
   (cond ((> (square test-divisor) n ) n )
    ((divides? n test-divisor) test-divisor)
    (else (find-devisor (next test-divisor)) )
   )
  )
  (find-devisor 2)
)

(display (smallest-divisor 19999))
